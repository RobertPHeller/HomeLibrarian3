\chapter{Reference Manual}
\label{chpt:Reference}
\typeout{$Id$}

\section{Database Structure}

Each card uses string of up to 36 characters as a unique key.
Cards are indexed by key, title, author, and subject. The keys, titles,
authors, and subjects are always compared in a case-insensitive
fashion.  That is, {\tt "The Door Into Summer"} is the same as {\tt
"THE DOOR INTO SUMMER"}.  Internally, the keys, titles, authors, and
subjects are converted to all uppercase letters.  There is also a
keyword table that associates keywords (search terms) with each card.

\begin{table}[hpt]
\begin{tabular}{|l|l|p{3in}|}
\hline
Name&Type&Description \\
\hline
Key&CHAR(36)&Unique key identifying the item. This is an arbitrary
identifier and could be a LC catalog code or some other user-defined
identifier.  Each card has a unique value for this field.\\
Title&CHAR(128)&The title or name of the item.\\
Author&CHAR(64)&The author of the item. This could be the name of the
performer for audio CDs.\\
Subject&CHAR(128)&The subject of the item.  What this item is generally
about. \\
Description&TEXT&The description of the item.  This is unstructured text
and can be whatever you want.\\
Location&CHAR(36)&The location of the item. This is generally used to
note the physical location of the item, such as a particular book self
or the fact that it is out on loan, etc.\\
Category&CHAR(36)&The category of the item. Some user defined category.\\
Media&CHAR(36)&The media the item is on. The type of media of the item,
such as hardbound book, or audio CD.\\
Publisher&CHAR(36)&The publisher of the item. The publisher or producer
of the item.\\
PubLocation&CHAR(36)&The location of the publisher. The publisher's
location (usually just the city).\\
PubDate&DATE&The date the item was published. The publication date.\\
Edition&CHAR(36)&The edition of the item. Whether this is a first
edition or a second edition, etc.\\
ISBN&CHAR(20)&The ISBN of the item. If the item has one.\\
\hline
\end{tabular}
\caption{Data fields in the ``Card'' table.}
\label{tab:ref:cardfields}
\end{table}
Each card contains thirteen (13) pieces of data as shown in
Table~\ref{tab:ref:cardfields}. The keyword table consists of two data
fields, a 64 character keyword and a 36 character card key.

\section{Main GUI Window}

\begin{figure}[hpt]
\begin{centering}
\includegraphics[width=5in]{MainWindow.png}
\caption{The main window of the Home Librarian application}
\label{fig:ref:MainWindow}
\end{centering}
\end{figure}
\begin{figure}[hpt]
\begin{centering}
\includegraphics[width=5in]{CardCatDrawer.png}
\caption{Card Catelog Drawer}
\label{fig:ref:headerAnimation}
\end{centering}
\end{figure}
The main window of the Home Librarian application, as shown in
Figure~\ref{fig:ref:MainWindow}, has a progress and status section at
the top of the GUI\footnote{Below the attached menu bar.}, consisting
of a ``face'' area and a progress and status area. The face area holds
either a forward facing librarian image, when the GUI is idle and
waiting for user input or a right profile when the application is
working and not accepting input from the user. The status and progress
either holds the message ``How May I Help You?'' or some sort of status
message, usually detailing the number of matches found when searching,
when the application is idle. When the application is working an
animation of a card catalog drawer being opened and flipped through is
displayed, as shown in Figure~\ref{fig:ref:headerAnimation}.

\begin{figure}[hpt]
\begin{centering}
\includegraphics{MainWindowAnnotated.pdf}
\caption{Main Window, annotated.}
\label{fig:ref:mainwindowAnno}
\end{centering}
\end{figure}
Below the progress and status section is the main interaction area.
Initialially, this contains three big buttons giving access to the major
functions of the application, as shown in
Figure~\ref{fig:ref:mainwindowAnno}. 

\subsection{Buttons on the main window}

There are two main functions supplied by the application: searching a
card catalog database, described in Section~\ref{sect:ref:search} and
editing a card catalog database, described in
Section~\ref{sect:ref:update}. The top most button in the initial (and
idle) state of the main GUI selects the searching function. The next
button selects the editing (update) function. The bottom button exits
the application. All of these operations are available from the File
menu item as well, along with some additional operations.

\section{Searching a database (card catalog)}
\label{sect:ref:search}

\begin{figure}[hpt]
\begin{centering}
\includegraphics[width=5in]{SearchWindowAnnotated.pdf}
\caption{Search Window, annotated.}
\label{fig:ref:searchwindowAnno}
\end{centering}
\end{figure}
The Search function version of the Main GUI Window is shown in
Figure~\ref{fig:ref:searchwindowAnno}. This version of the main window has
a place for entering a search pre x string, a set of search index
selection buttons, a search results list box, a set of search results
disposition buttons, a notepad (text) area for making notes, and a set
of overall control buttons.


\section{Updating a database (card catelog)}
\label{sect:ref:update}



\section{Dialog Boxes}
\subsection{Get Connection String Dialog}
This dialog box creates the connection string needed to connect to the
database via the ODBC API. The dialog shows lists of the available
drivers and available datasources.  Either a datasource can be used
directly or a connection string can be created from an available
driver. One of the possible configuration files can be used to store
the connection string for future invocations of the Home Librarian
program.
\subsection{Select A Template Dialog}
This dialog box selects a template card.
\subsection{Edit Template}
This window edits a template card.
\subsection{Edit Card}
This window edits a card record.
\subsection{Get New Key Dialog}
This dialog box gets a new key.
\subsection{Get New Card Template Or Amazon URL Dialog}
This dialog selects either a template or gets data from Amazon to initialize 
a new card.
\subsection{Import Dialog}
This dialog box selects a file and mode for data import.
\subsection{Select Printer Dialog}
This dialog box is used to select a printer or Postscript output file.
The print format and other output details are also selected with this
dialog box.
\subsection{Select A Layout Dialog}
This dialog box selects a print layout, either from the layout cache or
from a disk file.
\subsection{Edit Layout Text Tool Dialog}
This tool dialog box is used to create a text item in a card layout.
\subsection{Edit Layout Line Tool Dialog}
This tool dialog box is used to create a line item in a card layout.
\subsection{Edit Layout Rect Disk Tool Dialog}
This tool dialog box is used to create a rectangle or disk item in a
card layout.
\subsection{Edit Layout Bitmap Tool Dialog}
This tool dialog box is used to create a bitmap item in a card layout.
\subsection{Edit Layout Resize Tool Dialog}
This tool dialog box is used to resize an existing item in a card layout.
\subsection{Edit Layout}
This window provides for editing a card layout.
\subsection{Print Progress}
This window shows the print progress of either text output or cards.
\subsection{More Info Window}
This window shows more information about a selected card.


